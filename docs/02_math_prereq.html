<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />


<meta name="author" content="David Gerard" />

<meta name="date" content="2024-01-23" />

<title>Math Prerequisites</title>

<script src="site_libs/header-attrs-2.25/header-attrs.js"></script>
<script src="site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/yeti.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="site_libs/jqueryui-1.13.2/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>
<script src="site_libs/clipboard-1.7.1/clipboard.min.js"></script>
<link href="site_libs/primer-tooltips-1.4.0/build.css" rel="stylesheet" />
<link href="site_libs/klippy-0.0.0.9500/css/klippy.min.css" rel="stylesheet" />
<script src="site_libs/klippy-0.0.0.9500/js/klippy.min.js"></script>

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>

<style type="text/css">code{white-space: pre;}</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>









<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
details > summary > p:only-child {
  display: inline;
}
pre code {
  padding: 0;
}
</style>


<style type="text/css">
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #adb5bd;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script type="text/javascript">
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark the anchor link active (and if it's in a dropdown, also mark that active)
  var dropdown = menuAnchor.closest('li.dropdown');
  if (window.bootstrap) { // Bootstrap 4+
    menuAnchor.addClass('active');
    dropdown.find('> .dropdown-toggle').addClass('active');
  } else { // Bootstrap 3
    menuAnchor.parent().addClass('active');
    dropdown.addClass('active');
  }

  // Navbar adjustments
  var navHeight = $(".navbar").first().height() + 15;
  var style = document.createElement('style');
  var pt = "padding-top: " + navHeight + "px; ";
  var mt = "margin-top: -" + navHeight + "px; ";
  var css = "";
  // offset scroll position for anchor links (for fixed navbar)
  for (var i = 1; i <= 6; i++) {
    css += ".section h" + i + "{ " + pt + mt + "}\n";
  }
  style.innerHTML = "body {" + pt + "padding-bottom: 40px; }\n" + css;
  document.head.appendChild(style);
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before, .tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "\e259";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "\e258";
  font-family: 'Glyphicons Halflings';
  border: none;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->



<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}

@media print {
.toc-content {
  /* see https://github.com/w3c/csswg-drafts/issues/4434 */
  float: right;
}
}

.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>



</head>

<body>


<div class="container-fluid main-container">


<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-bs-toggle="collapse" data-target="#navbar" data-bs-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">Teaching Website for STAT 415/615</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">Home</a>
</li>
<li>
  <a href="data.html">Data</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/dcgerard/stat_415_615">GitHub</a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div id="header">



<h1 class="title toc-ignore">Math Prerequisites</h1>
<h4 class="author">David Gerard</h4>
<h4 class="date">2024-01-23</h4>

</div>


<script>
  addClassKlippyTo("pre.r, pre.markdown");
  addKlippy('left', 'top', 'auto', '1', 'Copy code', 'Copied!');
</script>
<div id="learning-objectives" class="section level1">
<h1>Learning Objectives</h1>
<ul>
<li>Minimum mathematics required to complete this course.</li>
<li>Summations/averages</li>
<li>Equations for lines</li>
<li>Logarithms/exponentials</li>
<li>Chapter 3 of <a
href="https://avehtari.github.io/ROS-Examples/">ROS</a></li>
</ul>
</div>
<div id="motivation" class="section level1">
<h1>Motivation</h1>
<ul>
<li><p>Mathematics are the building blocks of linear
regression.</p></li>
<li><p>You must be proficient with linear equations and summations to
implement and understand linear models.</p></li>
<li><p>Log/exponential transformations are important for the practice
and interpretation of many types of linear models.</p></li>
<li><p>Here, we will provide a brief mathematical review.</p></li>
</ul>
</div>
<div id="weighted-averages" class="section level1">
<h1>Weighted Averages</h1>
<ul>
<li><p>Consider the following data on USA, Mexico, and Canada:</p>
<table>
<thead>
<tr class="header">
<th>Label</th>
<th>Population <span class="math inline">\(N_j\)</span></th>
<th>Average Age <span class="math inline">\(\bar{y}_j\)</span></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>USA</td>
<td>310 Million</td>
<td>36.8</td>
</tr>
<tr class="even">
<td>Mexico</td>
<td>112 Million</td>
<td>26.7</td>
</tr>
<tr class="odd">
<td>Canada</td>
<td>34 Million</td>
<td>40.7</td>
</tr>
</tbody>
</table></li>
<li><p>What is the average age for these three countries?</p></li>
<li><p>Proportion USA: <span class="math inline">\(\frac{310}{310 + 112
+ 34} = 0.68\)</span>.</p></li>
<li><p>Proportion Mexico: <span class="math inline">\(\frac{112}{310 +
112 + 34} = 0.25\)</span>.</p></li>
<li><p>Proportion Canada: <span class="math inline">\(\frac{34}{310 +
112 + 34} = 0.07\)</span>.</p></li>
<li><p>So the USA contributes 68% of the population, mexico contributes
25% of the population, and Canada contributes 7% of the population. To
find the overall average age, we calculate:</p></li>
</ul>
<p><span class="math display">\[
0.68 \times 36.8 + 0.25 \times 26.7 + 0.07 \times 40.7 = 34.6
\]</span></p>
<ul>
<li>We can equivalently write this as</li>
</ul>
<p><span class="math display">\[
\frac{310 \times 36.8 + 112 \times 26.7 + 34 \times 40.7}{310 + 112 +
34} = \frac{310}{456}\times 36.8 + \frac{112}{456}\times 26.7 +
\frac{34}{456}\times 40.7
\]</span></p>
<ul>
<li><p>The proportions 0.68, 0.25, and 0.07 are called the
<strong>weights</strong>. When the weights sum to one, the overall
sumation is called a <strong>weighted average</strong>.</p></li>
<li><p>In <strong>summation notation</strong> (using the capital-sigma),
we would write:</p>
<p><span class="math display">\[\begin{align}
  \text{weighted average} &amp;= \sum_{j=1}^n w_j y_j\\
  &amp;= w_1y_1 + w_2y_2 + \cdots w_ny_n
  \end{align}\]</span></p>
<p>where <span class="math inline">\(w_j\)</span> is the <span
class="math inline">\(j\)</span>th weight and <span
class="math inline">\(y_j\)</span> is the <span
class="math inline">\(j\)</span>th value.</p></li>
<li><p>What would be an “unweighted” average? This is where each <span
class="math inline">\(w_j = \frac{1}{n}\)</span> since</p>
<p><span class="math display">\[\begin{align}
  \sum_{j=1}^n w_j y_j &amp;= \sum_{j=1}^n \frac{1}{n} y_j\\
  &amp;= \frac{1}{n}y_1 + \frac{1}{n}y_2 + \cdots + \frac{1}{n}y_n\\
  &amp;= \frac{1}{n}(y_1 +y_2 + \cdots + y_n)\\
  &amp;= \frac{1}{n}\sum_{j=1}^n y_j\\
  &amp;= \bar{y}
  \end{align}\]</span></p></li>
<li><p>Properties of summations:</p>
<ul>
<li><span class="math inline">\(\sum_{i=1}^n c a_i =
c\sum_{i=1}^na_i\)</span></li>
<li><span class="math inline">\(\sum_{i=1}^n a_i + \sum_{i=1}^nb_i =
\sum_{i=1}^n(a_i + b_i)\)</span></li>
</ul></li>
<li><p><strong>Exercise</strong>: 51% of Americans are female while 49%
of Americans are male. 79% of teachers are female while 21% of teachers
are male. Female teachers make on average $45,865, while male teachers
make on average $49,207. What is the average salary for all
teachers?</p></li>
<li><p><strong>Exercise</strong>: What is <span
class="math inline">\(\sum_{i=0}^4 i\)</span>?</p></li>
<li><p><strong>Exercise</strong>: Prove that it is not generally true
that <span class="math inline">\(\left(\sum_{i=1}^n y_i\right)^2 =
\sum_{i=1}^n y_i^2\)</span> (<em>hint</em>: provide a
counterexample).</p></li>
</ul>
<div id="products" class="section level2">
<h2>Products</h2>
<ul>
<li><p>We use capital-pi notation to represent product.</p>
<p><span class="math display">\[
  \prod_{i=1}^n a_i = a_1 \times a_2 \times \cdots \times a_n
  \]</span></p></li>
</ul>
</div>
</div>
<div id="lines" class="section level1">
<h1>Lines</h1>
<ul>
<li><p>All lines are of the form <span class="math display">\[
  y = \beta_0 + \beta_1 x
  \]</span></p></li>
<li><p><span class="math inline">\(\beta_1\)</span> is the
<strong>slope</strong>, the amount <span
class="math inline">\(y\)</span> is larger by when <span
class="math inline">\(x\)</span> is 1 unit larger.</p></li>
<li><p>When <span class="math inline">\(\beta_1\)</span> is
<em>negative</em>, the line slopes <em>down</em>.</p>
<p><img src="02_math_prereq_files/figure-html/unnamed-chunk-4-1.png" width="480" style="display: block; margin: auto;" /></p></li>
<li><p>When <span class="math inline">\(\beta_1\)</span> is
<em>positive</em>, the line slopes <em>up</em>.</p>
<p><img src="02_math_prereq_files/figure-html/unnamed-chunk-5-1.png" width="480" style="display: block; margin: auto;" /></p></li>
<li><p>When <span class="math inline">\(\beta_1\)</span> is <em>0</em>,
the line is <em>horizontal</em>. In this case, <span
class="math inline">\(y\)</span> is the same for every value of <span
class="math inline">\(x\)</span> (in other words, <span
class="math inline">\(x\)</span> does not affect <span
class="math inline">\(y\)</span>).</p>
<p><img src="02_math_prereq_files/figure-html/unnamed-chunk-6-1.png" width="480" style="display: block; margin: auto;" /></p></li>
<li><p><strong>Example</strong>: The progression of mile world records
during the 20th century is well approximated by the line <span
class="math inline">\(y = 1007 - 0.393x\)</span></p>
<pre class="r"><code>library(readr)
library(ggplot2)
mile &lt;- read_csv(&quot;https://dcgerard.github.io/stat_415_615/data/mile.csv&quot;)
ggplot(data = mile, mapping = aes(x = year, y = seconds)) +
  geom_point() +
  geom_abline(slope = -0.393, intercept = 1007, lty = 2, col = 2)</code></pre>
<p><img src="02_math_prereq_files/figure-html/unnamed-chunk-7-1.png" width="672" style="display: block; margin: auto;" /></p></li>
<li><p>The world record in 1950 was about <span class="math display">\[
  y = 1007 - 0.393 * 1950 = 240.6 \text{ seconds},
  \]</span> which is actually between the two world record values of
241.4 seconds in 1946 and 239.4 seconds in 1954.</p></li>
<li><p>Interpretation of <span class="math inline">\(\beta_0\)</span>:
Can we interpret 1007 seconds (16.8 minutes) as the approximate world
record in ancient times? No! Our data are only from 1913 to 1999, so
this is an obviously improper extrapolation. It is just the <span
class="math inline">\(y\)</span>-intercept, with no other
interpretation.</p></li>
<li><p>Interpretation of <span class="math inline">\(\beta_1\)</span>:
Each year, on average, the world record is 0.393 seconds lower.</p></li>
<li><p>Do <em>not</em> say “the world record decreases by about 0.393
seconds each year” as this creates an implicit causal
connection.</p></li>
<li><p><strong>Exercise</strong>: Year versus maximum life expectancy
(where maximum was taken over country) is well approximated by the line
<span class="math inline">\(y = -296 + 0.189 x\)</span>.</p>
<p><img src="02_math_prereq_files/figure-html/unnamed-chunk-8-1.png" width="672" style="display: block; margin: auto;" /></p>
<ol style="list-style-type: lower-alpha">
<li><p>What is the expected life expectancy in 1990?</p></li>
<li><p>Interpret -296</p></li>
<li><p>Interpret 0.189</p></li>
</ol></li>
</ul>
</div>
<div id="additivemultiplicative-comparisons" class="section level1">
<h1>Additive/Multiplicative Comparisons</h1>
<ul>
<li><p>This semester, we will spend a lot of time talking about
differences in one variable associated with differences in another
variable.</p></li>
<li><p>We need to know how to properly speak about “differences”, or
“numerical comparisons”.</p></li>
<li><p>Suppose car <span class="math inline">\(A\)</span> has a gas
mileage of 30 mpg, and car <span class="math inline">\(B\)</span> has a
gas mileage of 20 mpg. Then obviously car <span
class="math inline">\(A\)</span> has 10 mpg better gas mileage. This is
called an <em>additive</em> comparison since we can write it as <span
class="math inline">\(A + -B = 10\)</span>.</p>
<ul>
<li>Wikipedia calls this an “<a
href="https://en.wikipedia.org/wiki/Absolute_difference">absolute
difference</a>”.</li>
</ul></li>
<li><p>We can also describe this comparison as <em>multiplicative</em>.
Here are some common ways to describe multiplicative comparisons.</p>
<ul>
<li>Wikipedia calls this a “<a
href="https://en.wikipedia.org/wiki/Relative_change">relative
difference</a>”</li>
</ul></li>
<li><p><span class="math inline">\(A\)</span> has 50 percent more gas
mileage than <span class="math inline">\(B\)</span>.</p>
<ul>
<li><span class="math inline">\(A = B(1 + 0.5) = B + 0.5B = B + 50\%
B\)</span></li>
<li>Thus, <span class="math inline">\(A\)</span> is <span
class="math inline">\(B\)</span> plus 50 percent of <span
class="math inline">\(B\)</span>’s value. This is why we say “50 percent
more”.</li>
<li>In general, <span class="math inline">\(A\)</span> is <span
class="math inline">\(\frac{A - B}{B} \times 100\%\)</span> larger than
<span class="math inline">\(B\)</span></li>
</ul></li>
<li><p><span class="math inline">\(B\)</span> has 66.7 percent the value
of <span class="math inline">\(A\)</span>.</p>
<ul>
<li>This is since <span class="math inline">\(B / A = 2/3 \approx 0.667
= 66.7\%\)</span>.</li>
<li>In general, <span class="math inline">\(B\)</span> has <span
class="math inline">\(\frac{B}{A}\times 100\%\)</span> the value of
<span class="math inline">\(A\)</span>.</li>
</ul></li>
<li><p><span class="math inline">\(A\)</span> has 150 percent the value
of <span class="math inline">\(B\)</span>.</p>
<ul>
<li>This is since <span class="math inline">\(A / B = 3/2 = 1.5 =
150\%\)</span></li>
<li>In general, <span class="math inline">\(A\)</span> has <span
class="math inline">\(\frac{A}{B}\times 100\%\)</span> the value of
<span class="math inline">\(B\)</span>.</li>
</ul></li>
<li><p><span class="math inline">\(B\)</span> has 33.3 percent less gas
mileage than <span class="math inline">\(A\)</span>.</p>
<ul>
<li><span class="math inline">\(B = A(1 - 1/3) = A - (1/3)A \approx A -
0.333A = A - 33.3\%A\)</span></li>
<li>Thus, <span class="math inline">\(B\)</span> is <span
class="math inline">\(A\)</span> minus 33.3 percent of <span
class="math inline">\(A\)</span>’s value. This is why we say “33.3
percent less”.</li>
<li>In general, <span class="math inline">\(B\)</span> is <span
class="math inline">\(\frac{A-B}{A}\times 100\%\)</span> smaller than
<span class="math inline">\(A\)</span>.</li>
</ul></li>
<li><p><strong>Exercise</strong>: Suppose John makes $40,000 a year and
Alina makes $50,000 a year. Provide four different ways to describe the
multiplicative comparison between John’s and Alina’s salaries.</p></li>
<li><p>Sometimes we have additive comparsons for a variable whose scale
is percent.</p></li>
<li><p>For example, candidate <span class="math inline">\(A\)</span> won
40% of the vote, and candidate <span class="math inline">\(B\)</span>
won 30% of the vote.</p></li>
<li><p>If we want to describe the <em>additive</em> comparison between
these two candidates, we cannot say “percent” because that would imply a
mulitiplicative comparison.</p></li>
<li><p>To describe additive comparisons of a variable whose units are
percent, we say <strong>percentage point</strong>.</p></li>
<li><p>Thus, candidate <span class="math inline">\(A\)</span>’s vote
share is 10 percentage points higher than candidate <span
class="math inline">\(B\)</span>’s.</p></li>
<li><p>We can still describe multiplicative comparisons for these
variables. E.g. Candidate <span class="math inline">\(A\)</span>’s vote
share is 33.3 percent higher than candidate <span
class="math inline">\(B\)</span>’s.</p></li>
</ul>
</div>
<div id="logarithms-and-exponentials" class="section level1">
<h1>Logarithms and Exponentials</h1>
<ul>
<li><p>Often, we consider linear relationships on the log-scale. So we
need to know something about logarithms and exponentials.</p></li>
<li><p>Let’s start with exponentials: <span class="math display">\[
  \exp(x) = e^x = \underbrace{e \times \dots \times e}_{x\,
\textrm{times}}
  \]</span>.</p>
<pre class="r"><code>## Define e
e &lt;- exp(1)
e</code></pre>
<pre><code>## [1] 2.718</code></pre>
<pre class="r"><code>## show exp(3) == e * e * e
exp(3) </code></pre>
<pre><code>## [1] 20.09</code></pre>
<pre class="r"><code>e * e * e</code></pre>
<pre><code>## [1] 20.09</code></pre></li>
<li><p>Recall that <span class="math inline">\(e\)</span> is <a
href="https://en.wikipedia.org/wiki/E_(mathematical_constant)">Euler’s
number</a>, which is about 2.7183.</p></li>
<li><p>The last equality in the above equation for <code>exp()</code>
only follows if <span class="math inline">\(x\)</span> is positive
integer, but exponentiation can be extended to any real number.</p>
<pre class="r"><code>exp(1.414)</code></pre>
<pre><code>## [1] 4.112</code></pre></li>
<li><p><span class="math inline">\(\log(x)\)</span> is the
<strong>natural</strong> logarithm of <span
class="math inline">\(x\)</span> (<strong>not</strong> base 10). This is
the inverse of exponentiation <span class="math display">\[
  \log(\exp(x)) = \exp(\log(x)) = x
  \]</span></p></li>
<li><p>You can verify this in R</p>
<pre class="r"><code>exp(log(31))</code></pre>
<pre><code>## [1] 31</code></pre>
<pre class="r"><code>log(exp(31))</code></pre>
<pre><code>## [1] 31</code></pre></li>
<li><p>You can also interpret <span
class="math inline">\(\log(x)\)</span> as the number of times you have
to divide <span class="math inline">\(x\)</span> by <span
class="math inline">\(e\)</span> to obtain 1. For example, since you
would have to divide <span class="math inline">\(e^4\)</span> by <span
class="math inline">\(e\)</span> 4 times to get 1 (<span
class="math inline">\(1 = \frac{e^4}{e \times e \times e \times
e}\)</span>), we have that <span class="math inline">\(\log(e^4) =
4\)</span>.</p></li>
<li><p>A useful property of logs/exponents is how it can convert
multiplication to summation and vice versa.</p>
<ul>
<li><span class="math inline">\(\exp(a + b) =
\exp(a)\exp(b)\)</span>.</li>
<li><span class="math inline">\(\log(ab) = \log(a) +
\log(b)\)</span>.</li>
</ul></li>
<li><p>Why do we care about exponentials and logarithms? Because many
relationships in the real world follow <strong>exponential</strong> or
<strong>power</strong> laws.</p></li>
</ul>
<div id="exponential-growthdecline" class="section level2">
<h2>Exponential growth/decline</h2>
<ul>
<li><p><span class="math inline">\(\log(y) = \beta_0 + \beta_1
x\)</span> represents <strong>exponential growth</strong> if <span
class="math inline">\(\beta_1 &gt; 0\)</span> and <strong>exponential
decline</strong> if <span class="math inline">\(\beta_1 &lt;
0\)</span>.</p></li>
<li><p>Exponentiating both sides, we get <span class="math display">\[
  y = e^{\beta_0}e^{\beta_1 x}
  \]</span></p></li>
<li><p>Exponential growth:</p>
<p><img src="02_math_prereq_files/figure-html/unnamed-chunk-16-1.png" width="672" style="display: block; margin: auto;" /></p></li>
<li><p>Exponential decline:</p>
<p><img src="02_math_prereq_files/figure-html/unnamed-chunk-17-1.png" width="672" style="display: block; margin: auto;" /></p></li>
<li><p><span class="math inline">\(e^{\beta_0}\)</span> is the value of
<span class="math inline">\(y\)</span> when <span
class="math inline">\(x = 0\)</span></p></li>
<li><p><span class="math inline">\(\beta_1\)</span> determines the rate
of growth or decline.</p></li>
<li><p>A 1-unit difference in <span class="math inline">\(x\)</span>
corresponds to a multiplicative factor of <span
class="math inline">\(e^{\beta_1}\)</span> in <span
class="math inline">\(y\)</span>. (you multiply the old <span
class="math inline">\(y\)</span> value by <span
class="math inline">\(e^{\beta_1}\)</span> to figure out the new <span
class="math inline">\(y\)</span> value when you have an <span
class="math inline">\(x\)</span> value that is 1 larger).</p></li>
<li><p>This follows from: <span class="math display">\[\begin{align}
  y_{old} &amp;= e^{\beta_0}e^{\beta_1 x}\\
  y_{new} &amp;= e^{\beta_0}e^{\beta_1 (x + 1)}\\
          &amp;= e^{\beta_0}e^{\beta_1 x + \beta_1}\\
          &amp;= e^{\beta_0}e^{\beta_1 x} e^{\beta_1}\\
          &amp;= y_{old}e^{\beta_1}
  \end{align}\]</span></p></li>
<li><p><strong>Example</strong>: The early growth of <a
href="https://dcgerard.github.io/stat_415_615/data.html#dc-covid-tests">COVID-19
in DC</a> looked exponential:</p>
<pre class="r"><code>dc &lt;- read_csv(&quot;https://dcgerard.github.io/stat_415_615/data/dccovid.csv&quot;)
dc &lt;- select(dc, day, positives)
dc &lt;- filter(dc, day &lt;= &quot;2020-04-01&quot;, day &gt;= &quot;2020-03-11&quot;) 
ggplot(data = dc, mapping = aes(x = day, y = positives)) +
  geom_point()</code></pre>
<p><img src="02_math_prereq_files/figure-html/unnamed-chunk-18-1.png" width="672" style="display: block; margin: auto;" /></p>
<p>We determine if an exponential growth model is appropriate by seeing
if day versus log-positives is approximately linear:</p>
<pre class="r"><code>dc &lt;- mutate(dc, 
             lpos = log(positives),
             daysin = as.numeric(day) - as.numeric(day[[1]]))
ggplot(data = dc, mapping = aes(x = daysin, y = lpos)) +
  geom_point()</code></pre>
<p><img src="02_math_prereq_files/figure-html/unnamed-chunk-19-1.png" width="672" style="display: block; margin: auto;" /></p>
<p>A curve that fits this growth well is <span class="math inline">\(y =
8.8815e^{0.218x}\)</span>.</p>
<p><img src="02_math_prereq_files/figure-html/unnamed-chunk-21-1.png" width="672" style="display: block; margin: auto;" /></p>
<p>So that means that early on in the pandemic, each day positive tests
were multiplicatively larger by about <span
class="math inline">\(e^{\beta_1} = e^{0.218} = 1.2436\)</span>. Or,
about a 24% larger each day.</p></li>
<li><p><strong>Exercise</strong>: Consider the population growth of DC
from 1800 to 1950, taken from <a
href="https://en.wikipedia.org/wiki/Washington,_D.C.#Demographics">Wikipedia</a>.</p>
<pre class="r"><code>dcpop &lt;- tribble(~year,   ~pop,
                 1800L,   8144,
                 1810L,  15471,
                 1820L,  23336,
                 1830L,  30261,
                 1840L,  33745,
                 1850L,  51687,
                 1860L,  75080,
                 1870L, 131700,
                 1880L, 177624,
                 1890L, 230392,
                 1900L, 278718,
                 1910L, 331069,
                 1920L, 437571,
                 1930L, 486869,
                 1940L, 663091,
                 1950L, 802178)
ggplot(data = dcpop, mapping = aes(x = year, y = pop)) +
  geom_point()</code></pre>
<p><img src="02_math_prereq_files/figure-html/unnamed-chunk-22-1.png" width="672" style="display: block; margin: auto;" /></p>
<p>A researcher has determined that the following relationship
approximates this growth well:</p>
<p><span class="math display">\[
  \log(y) = -44.409 + 0.0299 x
  \]</span></p>
<p><img src="02_math_prereq_files/figure-html/unnamed-chunk-24-1.png" width="672" style="display: block; margin: auto;" /></p>
<ol style="list-style-type: decimal">
<li><p>Interpret the 0.0299 value.</p></li>
<li><p>Interpret the -44.409 value.</p></li>
<li><p>What is the average growth every 10 years?</p></li>
</ol></li>
</ul>
</div>
<div id="why-use-e-and-not-some-other-base" class="section level2">
<h2>Why use <span class="math inline">\(e\)</span> and not some other
base?</h2>
<ul>
<li><p>Tradition.</p></li>
<li><p>For small values of <span class="math inline">\(\beta_1\)</span>
(say, <span class="math inline">\(-0.1 \leq \beta_1 \leq 0.1\)</span>),
we can interpret <span class="math inline">\(\beta_1\)</span> as the
proportion change for a 1 unit difference in <span
class="math inline">\(x\)</span>.</p></li>
<li><p>This is because for small <span
class="math inline">\(\beta_1\)</span>, we have <span
class="math inline">\(e^{\beta_1} \approx 1 + \beta_1\)</span>.</p></li>
</ul>
<table>
<thead>
<tr class="header">
<th align="right">beta1</th>
<th align="right">exp(beta1)</th>
<th align="right">Percent Change</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="right">0.00</td>
<td align="right">1.000</td>
<td align="right">0.000</td>
</tr>
<tr class="even">
<td align="right">0.02</td>
<td align="right">1.020</td>
<td align="right">2.020</td>
</tr>
<tr class="odd">
<td align="right">0.04</td>
<td align="right">1.041</td>
<td align="right">4.081</td>
</tr>
<tr class="even">
<td align="right">0.06</td>
<td align="right">1.062</td>
<td align="right">6.184</td>
</tr>
<tr class="odd">
<td align="right">0.08</td>
<td align="right">1.083</td>
<td align="right">8.329</td>
</tr>
<tr class="even">
<td align="right">0.10</td>
<td align="right">1.105</td>
<td align="right">10.517</td>
</tr>
<tr class="odd">
<td align="right">0.12</td>
<td align="right">1.127</td>
<td align="right">12.750</td>
</tr>
<tr class="even">
<td align="right">0.14</td>
<td align="right">1.150</td>
<td align="right">15.027</td>
</tr>
<tr class="odd">
<td align="right">0.16</td>
<td align="right">1.173</td>
<td align="right">17.351</td>
</tr>
<tr class="even">
<td align="right">0.18</td>
<td align="right">1.197</td>
<td align="right">19.722</td>
</tr>
<tr class="odd">
<td align="right">0.20</td>
<td align="right">1.221</td>
<td align="right">22.140</td>
</tr>
</tbody>
</table>
<ul>
<li><p>In many real world applications, <span
class="math inline">\(\beta_1\)</span> is typically small.</p></li>
<li><p>This relationship does not hold with other bases. E.g. <span
class="math inline">\(10^{0.02} = 1.0471 \not\approx 1 +
0.02\)</span>.</p></li>
<li><p><strong>Example</strong>: From the DC population example above,
we had <span class="math inline">\(\beta_1 = 0.0299\)</span> and <span
class="math inline">\(e^{\beta_1} = 1.0303\)</span>. So, a 3% increase
in population each year, and you can get that either from <span
class="math inline">\(\beta_1\)</span> or <span
class="math inline">\(e^{\beta_1}\)</span>.</p></li>
</ul>
</div>
<div id="power-law-growthdecline" class="section level2">
<h2>Power-law growth/decline</h2>
<ul>
<li><p><span class="math inline">\(\log(y) = \beta_0 + \beta_1
\log(x)\)</span> represents <strong>power-law growth</strong> if <span
class="math inline">\(\beta_1 &gt; 0\)</span> and <strong>power-law
decline</strong> if <span class="math inline">\(\beta_1 &lt;
0\)</span>.</p>
<ul>
<li>Sub-linear growth if <span class="math inline">\(0 &lt; \beta_1 &lt;
1\)</span>.</li>
<li>Super-linear growth if <span class="math inline">\(\beta_1 &gt;
1\)</span>.</li>
</ul></li>
<li><p>Exponentiating both sides, we get the relationship <span
class="math display">\[
  y = e^{\beta_0}x^{\beta_1}
  \]</span></p></li>
<li><p>Interpret <span class="math inline">\(\beta_0\)</span>: The value
of <span class="math inline">\(y\)</span> when <span
class="math inline">\(x = 1\)</span> is <span
class="math inline">\(e^{\beta_0}\)</span>.</p></li>
<li><p>Interpret <span class="math inline">\(\beta_1\)</span>:</p>
<ul>
<li>When you double <span class="math inline">\(x\)</span>, you multiply
<span class="math inline">\(y\)</span> by <span
class="math inline">\(2^{\beta_1}\)</span>.</li>
<li>When you multiply <span class="math inline">\(x\)</span> by 10, you
multiply <span class="math inline">\(y\)</span> by <span
class="math inline">\(10^{\beta_1}\)</span>.</li>
<li>When you multiply <span class="math inline">\(x\)</span> by 1.1 (10%
increase), you multiply <span class="math inline">\(y\)</span> by <span
class="math inline">\(1.1^{\beta_1}\)</span>.</li>
<li>Choose a multiplier that makes sense for the range of your data.
E.g., if it is never the case that one value is 10 times larger than
another, don’t use that as the interpretation.</li>
</ul></li>
<li><p>This follows from:</p>
<p><span class="math display">\[\begin{align}
  y_{old} &amp;= e^{\beta_0}x^{\beta_1}\\
  y_{new} &amp;= e^{\beta_0}(2x)^{\beta_1}\\
          &amp;= e^{\beta_0}2^{\beta_1}x^{\beta_1}\\
          &amp;= 2^{\beta_1}e^{\beta_0}x^{\beta_1}\\
          &amp;= 2^{\beta_1}y_{old}
  \end{align}\]</span></p></li>
<li><p><strong>Example</strong>: From the <code>{Sleuth3}</code> R
package, we have a dataset on 7 islands measuring their land area and
the number of species on each island. The goal is to estimate the
relationship between these two variables, which has applications in
conservation.</p>
<pre class="r"><code>library(Sleuth3)
data(&quot;case0801&quot;)
ggplot(data = case0801, mapping = aes(x = Area, y = Species)) +
  geom_point()</code></pre>
<p><img src="02_math_prereq_files/figure-html/unnamed-chunk-29-1.png" width="672" style="display: block; margin: auto;" /></p>
<ul>
<li>This relationship is well-approximated by the curve <span
class="math inline">\(y = 6.9345x^{0.2497}\)</span>.</li>
</ul>
<p><img src="02_math_prereq_files/figure-html/unnamed-chunk-31-1.png" width="672" style="display: block; margin: auto;" /></p>
<ul>
<li><p>So islands that are twice as large have <span
class="math inline">\(2^{\beta_1} = 2^{0.2497} = 1.1889\)</span> times
as many species on average. Or, islands that are twice as large have 19%
more species on average.</p></li>
<li><p>Notice that I didn’t use the language “change” or “increase”,
because those would imply causal connections.</p></li>
</ul></li>
<li><p><strong>Exercise</strong>: Prove that the interpretation “when
you multiply <span class="math inline">\(x\)</span> by 10, you multiply
<span class="math inline">\(y\)</span> by <span
class="math inline">\(10^{\beta_1}\)</span>” is correct.</p></li>
<li><p><strong>Exercise</strong>: Consider the wine consumption and
heart disease data from the <code>{Sleuth3}</code> package. The
observational units are the counties and the variables are</p>
<ul>
<li><code>Wine</code>: consumption of wine (liters per person per
year)</li>
<li><code>Mortality</code>: heart disease mortality rate (deaths per
1,000)</li>
</ul>
<pre class="r"><code>data(&quot;ex0823&quot;)
ggplot(data = ex0823, mapping = aes(x = Wine, y = Mortality)) +
  geom_point()</code></pre>
<p><img src="02_math_prereq_files/figure-html/unnamed-chunk-33-1.png" width="672" style="display: block; margin: auto;" /></p>
<ul>
<li>Researchers have determined that this relationship is
well-approximated by the following equation.</li>
</ul>
<p><span class="math display">\[
  y = 12.8784x^{-0.3556}
  \]</span></p>
<p><img src="02_math_prereq_files/figure-html/unnamed-chunk-35-1.png" width="672" style="display: block; margin: auto;" /></p>
<ol style="list-style-type: decimal">
<li><p>Interpret -0.3556.</p></li>
<li><p>Interpret 2.5556 (the value of <span
class="math inline">\(\beta_0\)</span>).</p></li>
<li><p>If one country drinks 50% more wine per person per year than
another country, what is the expected difference in mortality
rates?</p></li>
</ol></li>
</ul>
</div>
<div id="logging-just-the-predictor-variable" class="section level2">
<h2>Logging just the predictor variable</h2>
<ul>
<li><p>Sometimes, the relationship is of the form <span
class="math display">\[
  y = \beta_0 + \beta_1 \log(x)
  \]</span></p></li>
<li><p>You intrepret <span class="math inline">\(\beta_1\)</span> with
the following:</p>
<ul>
<li>When you double <span class="math inline">\(x\)</span>, you add
<span class="math inline">\(\beta_1\log(2)\)</span> to <span
class="math inline">\(y\)</span>.</li>
<li>When you multiply <span class="math inline">\(x\)</span> by 10, you
add <span class="math inline">\(\beta_1\log(10)\)</span> to <span
class="math inline">\(y\)</span>.</li>
<li>When you multiply <span class="math inline">\(x\)</span> by 1.1 (10%
increase), you add <span class="math inline">\(\beta_1\log(1.1)\)</span>
to <span class="math inline">\(y\)</span>.</li>
<li>Choose a multiplier that makes sense for the range of your data.
E.g. if it is never the case that one value is 10 times larger than
another, don’t use that as the interpretation.</li>
</ul></li>
<li><p>This follows from <span class="math display">\[\begin{align}
  y_{old} &amp;= \beta_0 + \beta_1\log(x)\\
  y_{new} &amp;=  \beta_0 + \beta_1\log(2x)\\
          &amp;=  \beta_0 + \beta_1[\log(x) + \log(2)]\\
          &amp;=  \beta_0 + \beta_1\log(x) + \beta_1\log(2)\\
          &amp;= y_{old} + \beta_1\log(2).
  \end{align}\]</span></p></li>
<li><p>Example: From the <code>mtcars</code> dataset, it was determined
that the relationship between <code>mpg</code> and <code>wt</code> was
well approximated by the curve <span class="math inline">\(y = 39.2565 +
-17.0859\log(x)\)</span>.</p>
<pre class="r"><code>df &lt;- data.frame(x = seq(min(mtcars$wt), max(mtcars$wt), length.out = 100))
df$y &lt;- beta0 + beta1 * log(df$x)
ggplot() +
  geom_point(data = mtcars, mapping = aes(x = wt, y = mpg)) +
  geom_line(data = df, mapping = aes(x = x, y = y))</code></pre>
<p><img src="02_math_prereq_files/figure-html/unnamed-chunk-40-1.png" width="672" style="display: block; margin: auto;" /></p></li>
<li><p>So cars that are 50% heavier have <span
class="math inline">\(-17.0 \times \log(1.5) = -6.9\)</span> worse miles
per gallon on average.</p></li>
</ul>
</div>
<div id="summary-of-relationships-on-different-scales"
class="section level2">
<h2>Summary of relationships on different scales</h2>
<ul>
<li><p>If relationship is <span class="math inline">\(y = \beta_0 +
\beta_1x\)</span>, then add <span class="math inline">\(c\)</span> to
<span class="math inline">\(x\)</span> means add <span
class="math inline">\(c\beta_1\)</span> to <span
class="math inline">\(y\)</span>.</p></li>
<li><p>If relationship is <span class="math inline">\(y = \beta_0 +
\beta_1 \log(x)\)</span>, then multiply <span
class="math inline">\(x\)</span> by <span
class="math inline">\(c\)</span> means add <span
class="math inline">\(\beta_1\log(c)\)</span> to <span
class="math inline">\(y\)</span>.</p></li>
<li><p>If relationship is <span class="math inline">\(\log(y) = \beta_0
+ \beta_1 x\)</span>, then add <span class="math inline">\(c\)</span> to
<span class="math inline">\(x\)</span> means multiply <span
class="math inline">\(y\)</span> by <span
class="math inline">\(\exp(c\beta_1)\)</span>.</p></li>
<li><p>If relationship is <span class="math inline">\(\log(y) = \beta_0
+ \beta_1 \log(x)\)</span>, then multiply <span
class="math inline">\(x\)</span> by <span
class="math inline">\(c\)</span> means multiply <span
class="math inline">\(y\)</span> by <span
class="math inline">\(c^{\beta_1}\)</span>.</p></li>
</ul>
</div>
</div>



</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->

<script>
$(document).ready(function ()  {

    // temporarily add toc-ignore selector to headers for the consistency with Pandoc
    $('.unlisted.unnumbered').addClass('toc-ignore')

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3,h4",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_');
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
