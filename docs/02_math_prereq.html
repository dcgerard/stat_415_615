<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />


<meta name="author" content="David Gerard" />

<meta name="date" content="2021-07-20" />

<title>Math Prerequisites</title>

<script src="site_libs/header-attrs-2.9/header-attrs.js"></script>
<script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/yeti.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>
<script src="site_libs/clipboard-1.7.1/clipboard.min.js"></script>
<link href="site_libs/primer-tooltips-1.4.0/build.css" rel="stylesheet" />
<link href="site_libs/klippy-0.0.0.9500/css/klippy.min.css" rel="stylesheet" />
<script src="site_libs/klippy-0.0.0.9500/js/klippy.min.js"></script>

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>

<style type="text/css">code{white-space: pre;}</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>








<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
pre code {
  padding: 0;
}
</style>


<style type="text/css">
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #adb5bd;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script type="text/javascript">
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.tab('show');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');

  // Navbar adjustments
  var navHeight = $(".navbar").first().height() + 15;
  var style = document.createElement('style');
  var pt = "padding-top: " + navHeight + "px; ";
  var mt = "margin-top: -" + navHeight + "px; ";
  var css = "";
  // offset scroll position for anchor links (for fixed navbar)
  for (var i = 1; i <= 6; i++) {
    css += ".section h" + i + "{ " + pt + mt + "}\n";
  }
  style.innerHTML = "body {" + pt + "padding-bottom: 40px; }\n" + css;
  document.head.appendChild(style);
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->




</head>

<body>


<div class="container-fluid main-container">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">Teaching Website for STAT 415/615</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">Home</a>
</li>
<li>
  <a href="data.html">Data</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/dcgerard/stat_415_615">GitHub</a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div id="header">



<h1 class="title toc-ignore">Math Prerequisites</h1>
<h4 class="author">David Gerard</h4>
<h4 class="date">2021-07-20</h4>

</div>

<div id="TOC">
<ul>
<li><a href="#learning-objectives">Learning Objectives</a></li>
<li><a href="#motivation">Motivation</a></li>
<li><a href="#weighted-averages">Weighted Averages</a>
<ul>
<li><a href="#products">Products</a></li>
</ul></li>
<li><a href="#lines">Lines</a></li>
<li><a href="#logarithms-and-exponentials">Logarithms and Exponentials</a>
<ul>
<li><a href="#exponential-growthdecline">Exponential growth/decline</a></li>
<li><a href="#power-law-growthdecline">Power-law growth/decline</a></li>
</ul></li>
<li><a href="#derivatives">Derivatives</a></li>
</ul>
</div>

<script>
  addClassKlippyTo("pre.r, pre.markdown");
  addKlippy('left', 'top', 'auto', '1', 'Copy code', 'Copied!');
</script>
<div id="learning-objectives" class="section level1">
<h1>Learning Objectives</h1>
<ul>
<li>Minimum mathematics required to complete this course.</li>
<li>Summations/averages</li>
<li>Equations for lines</li>
<li>Logarithms/exponentials</li>
<li>Chapter 3 of <a href="https://avehtari.github.io/ROS-Examples/">ROS</a></li>
</ul>
</div>
<div id="motivation" class="section level1">
<h1>Motivation</h1>
<ul>
<li><p>Mathematics are the building blocks of linear regression.</p></li>
<li><p>Log/exponential transformations are important for the practice and interpretation of linear models.</p></li>
<li><p>Calculus is important for estimating the parameters of linear models.</p></li>
<li><p>Here, we will provide a brief mathematical review.</p></li>
</ul>
</div>
<div id="weighted-averages" class="section level1">
<h1>Weighted Averages</h1>
<ul>
<li><p>Consider the following data on USA, Mexico, and Canada:</p>
<table>
<thead>
<tr class="header">
<th>Label</th>
<th>Population <span class="math inline">\(N_j\)</span></th>
<th>Average Age <span class="math inline">\(\bar{y}_j\)</span></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>USA</td>
<td>310 Million</td>
<td>36.8</td>
</tr>
<tr class="even">
<td>Mexico</td>
<td>112 Million</td>
<td>26.7</td>
</tr>
<tr class="odd">
<td>Canada</td>
<td>34 Million</td>
<td>40.7</td>
</tr>
</tbody>
</table></li>
<li><p>What is the average age for these three countries?</p></li>
<li><p>Proportion USA: <span class="math inline">\(\frac{310}{310 + 112 + 34} = 0.68\)</span>.</p></li>
<li><p>Proportion Mexico: <span class="math inline">\(\frac{112}{310 + 112 + 34} = 0.25\)</span>.</p></li>
<li><p>Proportion Canada: <span class="math inline">\(\frac{34}{310 + 112 + 34} = 0.07\)</span>.</p></li>
<li><p>So the USA contributes 68% of the population, mexico contributes 25% of the population, and Canada contributes 7% of the population. To find the overall average age, we calculate:</p></li>
</ul>
<p><span class="math display">\[
0.68 \times 36.8 + 0.25 \times 26.7 + 0.07 \times 40.7 = 34.6
\]</span></p>
<ul>
<li>We can equivalently write this as</li>
</ul>
<p><span class="math display">\[
\frac{310 \times 36.8 + 112 \times 26.7 + 34 \times 40.7}{310 + 112 + 34} = \frac{310}{456}\times 36.8 + \frac{112}{456}\times 26.7 + \frac{34}{456}\times 40.7
\]</span></p>
<ul>
<li><p>The proportions 0.68, 0.25, and 0.07 are called the <strong>weights</strong>. When the weights sum to one, the overall sumation is called a <strong>weighted average</strong>.</p></li>
<li><p>In <strong>summation notation</strong> (using the capital-sigma), we would write:</p>
<p><span class="math display">\[\begin{align}
  \text{weighted average} &amp;= \sum_{j=1}^n w_j y_j\\
  &amp;= w_1y_1 + w_2y_2 + \cdots w_ny_n
  \end{align}\]</span></p>
<p>where <span class="math inline">\(w_j\)</span> is the <span class="math inline">\(j\)</span>th weight and <span class="math inline">\(y_j\)</span> is the <span class="math inline">\(j\)</span>th value.</p></li>
<li><p>What would be an “unweighted” average? This is where each <span class="math inline">\(w_j = \frac{1}{n}\)</span> since</p>
<p><span class="math display">\[\begin{align}
  \sum_{j=1}^n w_j y_j &amp;= \sum_{j=1}^n \frac{1}{n} y_j\\
  &amp;= \frac{1}{n}y_1 + \frac{1}{n}y_2 + \cdots + \frac{1}{n}y_n\\
  &amp;= \frac{1}{n}(y_1 +y_2 + \cdots + y_n)\\
  &amp;= \frac{1}{n}\sum_{j=1}^n y_j\\
  &amp;= \bar{y}
  \end{align}\]</span></p></li>
<li><p>Properties of summations:</p>
<ul>
<li><span class="math inline">\(\sum_{i=1}^n c a_i = c\sum_{i=1}^na_i\)</span></li>
<li><span class="math inline">\(\sum_{i=1}^n a_i + \sum_{i=1}^nb_i = \sum_{i=1}^n(a_i + b_i)\)</span></li>
</ul></li>
<li><p><strong>Exercise</strong>: 51% of Americans are female while 49% of Americans are male. 79% of teachers are female while 21% of teachers are male. Female teachers make on average $45,865, while male teachers make on average $49,207. What is the average salary for all teachers?</p></li>
<li><p><strong>Exercise</strong>: What is <span class="math inline">\(\sum_{i=0}^4 i\)</span>?</p></li>
<li><p><strong>Exercise</strong>: Prove that it is not generally true that <span class="math inline">\(\left(\sum_{i=1}^n y_i\right)^2 = \sum_{i=1}^n y_i^2\)</span> (<em>hint</em>: provide a counterexample).</p></li>
</ul>
<div id="products" class="section level2">
<h2>Products</h2>
<ul>
<li><p>We use capital-pi notation to represent product.</p>
<p><span class="math display">\[
  \prod_{i=1}^n a_i = a_1 \times a_2 \times \cdots \times a_n
  \]</span></p></li>
</ul>
</div>
</div>
<div id="lines" class="section level1">
<h1>Lines</h1>
<ul>
<li><p>All lines are of the form <span class="math display">\[
  y = \beta_0 + \beta_1 x
  \]</span></p></li>
<li><p><span class="math inline">\(\beta_1\)</span> is the <strong>slope</strong>, the amount <span class="math inline">\(y\)</span> is larger by when <span class="math inline">\(x\)</span> is 1 unit larger.</p></li>
<li><p>When <span class="math inline">\(\beta_1\)</span> is <em>negative</em>, the line slopes <em>down</em>.</p>
<p><img src="02_math_prereq_files/figure-html/unnamed-chunk-4-1.png" width="480" style="display: block; margin: auto;" /></p></li>
<li><p>When <span class="math inline">\(\beta_1\)</span> is <em>positive</em>, the line slopes <em>up</em>.</p>
<p><img src="02_math_prereq_files/figure-html/unnamed-chunk-5-1.png" width="480" style="display: block; margin: auto;" /></p></li>
<li><p>When <span class="math inline">\(\beta_1\)</span> is <em>0</em>, the line is <em>horizontal</em>. In this case, <span class="math inline">\(y\)</span> is the same for every value of <span class="math inline">\(x\)</span> (in other words, <span class="math inline">\(x\)</span> does not affect <span class="math inline">\(y\)</span>).</p>
<p><img src="02_math_prereq_files/figure-html/unnamed-chunk-6-1.png" width="480" style="display: block; margin: auto;" /></p></li>
<li><p><strong>Example</strong>: The progression of mile world records during the 20th century is well approximated by the line <span class="math inline">\(y = 1007 - 0.393x\)</span></p>
<pre class="r"><code>library(readr)
library(ggplot2)
mile &lt;- read_csv(&quot;https://dcgerard.github.io/stat_415_615/data/mile.csv&quot;)
qplot(x = year, y = seconds, data = mile) + 
  geom_abline(slope = -0.393, intercept = 1007, lty = 2, col = 2)</code></pre>
<p><img src="02_math_prereq_files/figure-html/unnamed-chunk-7-1.png" width="672" style="display: block; margin: auto;" /></p></li>
<li><p>The world record in 1950 was about <span class="math display">\[
  y = 1007 - 0.393 * 1950 = 240.6 \text{ seconds},
  \]</span> which is actually between the two world record values of 241.4 seconds in 1946 and 239.4 seconds in 1954.</p></li>
<li><p>Interpretation of <span class="math inline">\(\beta_0\)</span>: Can we interpret 1007 seconds (16.8 minutes) as the approximate world record in ancient times? No! Our data are only from 1913 to 1999, so this is an obviously improper extrapolation. It is just the <span class="math inline">\(y\)</span>-intercept, with no other interpretation.</p></li>
<li><p>Interpretation of <span class="math inline">\(\beta_1\)</span>: For two adjacent years, the world record is about 0.393 seconds less for the more recent year.</p></li>
<li><p>Do <em>not</em> say “the world record decreases by about 0.393 seconds each year” as this creates an implicit causal connection.</p></li>
<li><p><strong>Exercise</strong>: Year versus maximum life expectancy (where maximum was taken over country) is well approximated by the line <span class="math inline">\(y = -296 + 0.189 x\)</span>.</p>
<p><img src="02_math_prereq_files/figure-html/unnamed-chunk-8-1.png" width="672" style="display: block; margin: auto;" /></p>
<ol style="list-style-type: lower-alpha">
<li><p>What is the expected life expectancy in 1990?</p></li>
<li><p>Interpret -296</p></li>
<li><p>Interpret 0.189</p></li>
</ol></li>
</ul>
</div>
<div id="logarithms-and-exponentials" class="section level1">
<h1>Logarithms and Exponentials</h1>
<ul>
<li><p>Often, we consider linear relationships on the log-scale. So we need to know something about logarithms and exponentials.</p></li>
<li><p>Let’s start with exponentials: <span class="math display">\[
  \exp(x) = e^x = \underbrace{e \times \dots \times e}_{x\, \textrm{times}}
  \]</span>.</p>
<pre class="r"><code>## Define e
e &lt;- exp(1)
e</code></pre>
<pre><code>## [1] 2.718</code></pre>
<pre class="r"><code>## show exp(3) == e * e * e
exp(3) </code></pre>
<pre><code>## [1] 20.09</code></pre>
<pre class="r"><code>e * e * e</code></pre>
<pre><code>## [1] 20.09</code></pre></li>
<li><p>Recall that <span class="math inline">\(e\)</span> is <a href="https://en.wikipedia.org/wiki/E_(mathematical_constant)">Euler’s number</a>, which is about 2.7183.</p></li>
<li><p>The last equality in the above equation for <code>exp()</code> only follows if <span class="math inline">\(x\)</span> is positive integer, but exponentiation can be extended to any real number.</p>
<pre class="r"><code>exp(1.414)</code></pre>
<pre><code>## [1] 4.112</code></pre></li>
<li><p><span class="math inline">\(\log(x)\)</span> is the <strong>natural</strong> logarithm of <span class="math inline">\(x\)</span> (not base 10). This is the inverse of exponentiation <span class="math display">\[
  \log(\exp(x)) = \exp(\log(x)) = x
  \]</span></p></li>
<li><p>You can verify this in R</p>
<pre class="r"><code>exp(log(31))</code></pre>
<pre><code>## [1] 31</code></pre>
<pre class="r"><code>log(exp(31))</code></pre>
<pre><code>## [1] 31</code></pre></li>
<li><p>You can also interpret <span class="math inline">\(\log(x)\)</span> as the number of times you have to divide <span class="math inline">\(x\)</span> by <span class="math inline">\(e\)</span> to obtain 1. For example, since you would have to divide <span class="math inline">\(e^4\)</span> by <span class="math inline">\(e\)</span> 4 times to get 1 (<span class="math inline">\(1 = \frac{e^4}{e \times e \times e \times e}\)</span>), we have that <span class="math inline">\(\log(e^4) = 4\)</span>.</p></li>
<li><p>A useful property of logs/exponents is how it can convert multiplication to summation and vice versa.</p>
<ul>
<li><span class="math inline">\(\exp(a + b) = \exp(a)\exp(b)\)</span>.</li>
<li><span class="math inline">\(\log(ab) = \log(a) + \log(b)\)</span>.</li>
</ul></li>
<li><p>Why do we care about exponentials and logarithms? Because many relationships in the real world follow <strong>exponential</strong> or <strong>power</strong> laws.</p></li>
</ul>
<div id="exponential-growthdecline" class="section level2">
<h2>Exponential growth/decline</h2>
<ul>
<li><p><span class="math inline">\(\log(y) = \beta_0 + \beta_1 x\)</span> represents <strong>exponential growth</strong> if <span class="math inline">\(\beta_1 &gt; 0\)</span> and <strong>exponential decline</strong> if <span class="math inline">\(\beta_1 &lt; 0\)</span>.</p></li>
<li><p>Exponentiating both sides, we get <span class="math display">\[
  y = e^{\beta_0}e^{\beta_1 x}
  \]</span></p></li>
<li><p>Exponential growth:</p>
<p><img src="02_math_prereq_files/figure-html/unnamed-chunk-15-1.png" width="672" style="display: block; margin: auto;" /></p></li>
<li><p>Exponential decline:</p>
<p><img src="02_math_prereq_files/figure-html/unnamed-chunk-16-1.png" width="672" style="display: block; margin: auto;" /></p></li>
<li><p><span class="math inline">\(\beta_0\)</span> is the value of <span class="math inline">\(y\)</span> when <span class="math inline">\(x = 0\)</span></p></li>
<li><p><span class="math inline">\(\beta_1\)</span> determines the rate of growth or decline.</p></li>
<li><p>A 1-unit difference in <span class="math inline">\(x\)</span> corresponds to a multiplicative factor of <span class="math inline">\(e^{\beta_1}\)</span> in <span class="math inline">\(y\)</span>. (you multiply the old <span class="math inline">\(y\)</span> value by <span class="math inline">\(e^{\beta_1}\)</span> to figure out the new <span class="math inline">\(y\)</span> value when you have an <span class="math inline">\(x\)</span> value that is 1 larger).</p></li>
<li><p>This follows from: <span class="math display">\[\begin{align}
  y_{old} &amp;= e^{\beta_0}e^{\beta_1 x}\\
  y_{new} &amp;= e^{\beta_0}e^{\beta_1 (x + 1)}\\
          &amp;= e^{\beta_0}e^{\beta_1 x + \beta_1}\\
          &amp;= e^{\beta_0}e^{\beta_1 x} e^{\beta_1}\\
          &amp;= y_{old}e^{\beta_1}
  \end{align}\]</span></p></li>
<li><p>Example:</p></li>
</ul>
</div>
<div id="power-law-growthdecline" class="section level2">
<h2>Power-law growth/decline</h2>
<ul>
<li><p><span class="math inline">\(\log(y) = \beta_0 + \beta_1 \log(x)\)</span> represents <strong>power-law growth</strong> if <span class="math inline">\(beta_1 &gt; 0\)</span> and <strong>power-law decline</strong> if <span class="math inline">\(\beta_1 &lt; 0\)</span>.</p></li>
<li><p>Exponentiating both sides, we get the relationship <span class="math display">\[
  y = e^{\beta_0}x^{\beta_1}
  \]</span></p></li>
<li><p>Example: From the <code>Sleuth3</code> R package, we have a dataset on 7 islands measuring their land area and the number of species on each island. The goal is to estimate the relationship between these two variables, which has applications in conservation.</p>
<pre class="r"><code>library(Sleuth3)
data(&quot;case0801&quot;)
qplot(x = Area, y = Species, data = case0801)</code></pre>
<p><img src="02_math_prereq_files/figure-html/unnamed-chunk-17-1.png" width="672" style="display: block; margin: auto;" /></p></li>
<li><p>This relationship is well-approximated by the curve <span class="math inline">\(y = 6.9345x^{0.2497}\)</span>.</p>
<p><img src="02_math_prereq_files/figure-html/unnamed-chunk-19-1.png" width="672" style="display: block; margin: auto;" /></p></li>
</ul>
</div>
</div>
<div id="derivatives" class="section level1">
<h1>Derivatives</h1>
</div>




</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
